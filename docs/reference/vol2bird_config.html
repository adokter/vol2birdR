<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Create a 'vol2bird' configuration instance — vol2bird_config • vol2birdR</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.4.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Create a 'vol2bird' configuration instance — vol2bird_config"><meta name="description" content="Creates or copies a 'vol2bird' configuration instance of class Rcpp_Vol2BirdConfig"><meta property="og:description" content="Creates or copies a 'vol2bird' configuration instance of class Rcpp_Vol2BirdConfig"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-dark" data-bs-theme="dark" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">vol2birdR</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.0.3</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../articles/vol2birdR.html">Get started</a></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/adokter/vol2birdR/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Create a 'vol2bird' configuration instance</h1>
      <small class="dont-index">Source: <a href="https://github.com/adokter/vol2birdR/blob/HEAD/R/vol2bird_config.R" class="external-link"><code>R/vol2bird_config.R</code></a></small>
      <div class="d-none name"><code>vol2bird_config.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Creates or copies a 'vol2bird' configuration instance of class <code>Rcpp_Vol2BirdConfig</code></p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">vol2bird_config</span><span class="op">(</span><span class="va">config</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-config">config<a class="anchor" aria-label="anchor" href="#arg-config"></a></dt>
<dd><p>a configuration instance to be copied.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>an object of class <code>Rcpp_Vol2BirdConfig</code></p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>

<div class="section">
<h3 id="copying-configuration-instances">Copying configuration instances<a class="anchor" aria-label="anchor" href="#copying-configuration-instances"></a></h3>


<p>All processing options for <code><a href="vol2bird.html">vol2bird()</a></code> are set using a configuration instance of class <code>Rcpp_Vol2BirdConfig</code>
In some cases it might be necessary to copy and modify configuration instance, for example
when processing polar volume files with different settings.
In these cases you can't copy the instance like:</p>
<p></p><div class="sourceCode R"><pre><code><span><span class="va">config</span><span class="op">&lt;-</span><span class="fu"><a href="../reference/vol2bird_config.html">vol2bird_config</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="va">extra_config</span><span class="op">&lt;-</span><span class="va">config</span></span></code></pre><p></p></div>
<p>In the above example, the <code>config</code> and <code>extra_config</code> instances will both refer to the same object.
(copy by reference). To avoid this (and make a copy by value), use:</p>
<p></p><div class="sourceCode R"><pre><code><span><span class="va">config</span><span class="op">&lt;-</span><span class="fu"><a href="../reference/vol2bird_config.html">vol2bird_config</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co"># create a copy identical to object config:</span></span>
<span><span class="va">extra_config</span><span class="op">&lt;-</span><span class="fu"><a href="../reference/vol2bird_config.html">vol2bird_config</a></span><span class="op">(</span><span class="va">config</span><span class="op">)</span></span></code></pre><p></p></div>
</div>

<div class="section">
<h3 id="user-configuration-options">User configuration options<a class="anchor" aria-label="anchor" href="#user-configuration-options"></a></h3>


<p>The <code>Rcpp_Vol2BirdConfig</code> class object sets the following 'vol2bird' processing options:</p><ul><li><p><code>azimMax</code>: Numeric. The minimum azimuth (0-360 degrees) used for constructing the bird density profile</p></li>
<li><p><code>azimMin</code>: Numeric. The maximum azimuth (0-360 degrees) used for constructing the bird density profile</p></li>
<li><p><code>birdRadarCrossSection</code>: Numeric. Radar cross section in cm^2</p></li>
<li><p><code>clutterMap</code>: Character. clutter map path and filename</p></li>
<li><p><code>clutterValueMin</code>: Numeric. sample volumes in the static cluttermap with a value above
this threshold will be considered clutter-contaminated. Default 0.1</p></li>
<li><p><code>dbzType</code>: Character. Reflectivity factor quantity to use. Default <code>DBZH</code></p></li>
<li><p><code>dualPol</code>: Logical. Whether to use dual-pol moments for filtering meteorological echoes. Default <code>TRUE</code></p></li>
<li><p><code>elevMax</code>: Numeric. The minimum scan elevation in degrees used for constructing the bird density profile</p></li>
<li><p><code>elevMin</code>: Numeric. The maximum scan elevation in degrees used for constructing the bird density profile</p></li>
<li><p><code>layerThickness</code>: Numeric. The width/thickness of an altitude layer in m. Default 200</p></li>
<li><p><code>mistNetPath</code>: Character. Path of 'MistNet' segmentation model in pytorch (.pt) format</p></li>
<li><p><code>nLayers</code>: Integer. The number of layers in an altitude profile. Default 25</p></li>
<li><p><code>radarWavelength</code>: Numeric. The radar wavelength in cm to assume when unavailable as an attribute in the input file. Default 5.3</p></li>
<li><p><code>rangeMax</code>: Numeric. The maximum range in m used for constructing the bird density profile. Default 35000</p></li>
<li><p><code>rangeMin</code>: Numeric. The minimum range in m used for constructing the bird density profile. Default 5000</p></li>
<li><p><code>rhohvThresMin</code>: Numeric. Correlation coefficients higher than this threshold will be classified as precipitation. Default 0.95</p></li>
<li><p><code>singlePol</code>: Logical. Whether to use single-pol moments for filtering meteorological echoes. Default <code>TRUE</code></p></li>
<li><p><code>stdDevMinBird</code>: Numeric. VVP Radial velocity standard deviation threshold. Default 2 m/s.</p></li>
<li><p><code>useClutterMap</code>: Logical. Whether to use a static clutter map. Default <code>FALSE</code></p></li>
<li><p><code>useMistNet</code>: Logical. Whether to use the 'MistNet' segmentation model. Default <code>FALSE</code>.</p></li>
</ul></div>

<div class="section">
<h3 id="advanced-configuration-options">Advanced configuration options<a class="anchor" aria-label="anchor" href="#advanced-configuration-options"></a></h3>


<p>Changing these settings is rarely needed.</p><ul><li><p><code>cellEtaMin</code>:  Numeric. Maximum mean reflectivity in cm^2/km^3 for cells containing birds</p></li>
<li><p><code>cellStdDevMax</code>: Numeric. When analyzing precipitation cells, only cells for which the stddev of
vrad (aka the texture) is less than cellStdDevMax are considered in the rest of the analysis</p></li>
<li><p><code>dbzThresMin</code>: Numeric. Minimum reflectivity factor of a gate to be considered for inclusion in a weather cell. Default 0 dBZ</p></li>
<li><p><code>dealiasRecycle</code>: Logical. Whether we should dealias all data once (default <code>TRUE</code>), or dealias for each profile individually (<code>FALSE</code>)</p></li>
<li><p><code>dealiasVrad</code>: Logical. Whether we should dealias the radial velocities. Default <code>TRUE</code>.</p></li>
<li><p><code>etaMax</code>: Numeric. Maximum reflectivity in cm^2/km^3 for single gates containing birds. Default 36000</p></li>
<li><p><code>exportBirdProfileAsJSONVar</code>: Logical. Deprecated, do not use. Default <code>FALSE</code></p></li>
<li><p><code>fitVrad</code>: Logical. Whether or not to fit a model to the observed vrad. Default <code>TRUE</code></p></li>
<li><p><code>maxNyquistDealias</code>: Numeric. When all scans have nyquist velocity higher than this value, dealiasing is suppressed. Default 25 m/s.</p></li>
<li><p><code>minNyquist</code>: Numeric. Scans with Nyquist velocity lower than this value are excluded. Default 5 m/s.</p></li>
<li><p><code>mistNetElevs</code>: Numeric vector of length 5. Elevations to use in Cartesian projection for 'MistNet'. Default <code>c(0.5, 1.5, 2.5, 3.5, 4.5)</code></p></li>
<li><p><code>mistNetElevsOnly</code>: Logical. When <code>TRUE</code> (default), use only the specified elevation scans for 'MistNet' to calculate profile, otherwise use all available elevation scans</p></li>
<li><p><code>requireVrad</code>: Logical. For a range gate to contribute it should have a valid radial velocity. Default <code>FALSE</code></p></li>
<li><p><code>resample</code>: Logical. Whether to resample the input polar volume. Downsampling speeds up the calculation. Default <code>FALSE</code></p></li>
<li><p><code>resampleNbins</code>: Numeric. Resampled number of range bins. Ignored when <code>resample</code> is <code>FALSE</code>. Default 100</p></li>
<li><p><code>resampleNrays</code>: Numeric. Resampled number of azimuth bins. Ignored when <code>resample</code> is <code>FALSE</code>. Default 360</p></li>
<li><p><code>resampleRscale</code>: Numeric. Resampled range gate length in m. Ignored when <code>resample</code> is <code>FALSE</code>. Default 500 m.</p></li>
</ul></div>

<div class="section">
<h3 id="algorithm-constants">Algorithm constants<a class="anchor" aria-label="anchor" href="#algorithm-constants"></a></h3>


<p>Changing any of these constants is not recommended</p><ul><li><p><code>constant_absVDifMax</code>: Numeric. After fitting the radial velocity data, throw out any VRAD observations that
are more than absVDifMax away from the fitted value as outliers. Default 10</p></li>
<li><p><code>constant_areaCellMin</code>: Numeric. When analyzing cells, areaCellMin determines the minimum size
of a cell to be considered in the rest of the analysis. in km^2. Default 0.5</p></li>
<li><p><code>constant_cellClutterFractionMax</code>: Cells with clutter fractions above this value are likely not birds. Default 0.5</p></li>
<li><p><code>constant_chisqMin</code>: Minimum standard deviation of the VVP fit. Default 1e-05</p></li>
<li><p><code>constant_fringeDist</code>: Each identified weather cell is grown by a distance equal to 'fringeDist' using a region-growing approach. Default 5000</p></li>
<li><p><code>constant_nAzimNeighborhood</code>: vrad's texture is calculated based on the local neighborhood. The neighborhood size in the azimuth direction is equal to this value. Default 3</p></li>
<li><p><code>constant_nBinsGap</code>: When determining whether there are enough vrad observations in each direction, use nBinsGap sectors. Default 8</p></li>
<li><p><code>constant_nCountMin</code>: The minimum number of neighbors for the texture value to be considered valid, as used in calcTexture(). Default 4</p></li>
<li><p><code>constant_nNeighborsMin</code>: the minimum number of direct neighbors with dbz value above dbzThresMin as used in findWeatherCells(). Default 5</p></li>
<li><p><code>constant_nObsGapMin</code>: there should be at least this many vrad observations in each sector. Default 5</p></li>
<li><p><code>constant_nPointsIncludedMin</code>: when calculating the altitude-layer averaged dbz, there should be at least this many valid data points. Default 25</p></li>
<li><p><code>constant_nRangNeighborhood</code>: vrad's texture is calculated based on the local neighborhood. The neighborhood size in the range direction is equal to this value. Default 3</p></li>
<li><p><code>constant_refracIndex</code>: Refractive index of the scatterers. Default equal to water 0.964</p></li>
<li><p><code>constant_vradMin</code>: When analyzing cells, radial velocities lower than vradMin are treated as clutter. Default 1 m/s.</p></li>
</ul></div>

<div class="section">
<h3 id="debug-printing-options">Debug printing options<a class="anchor" aria-label="anchor" href="#debug-printing-options"></a></h3>


<p>Enable these printing options only for debugging purposes
in a terminal, since large amounts of data will be dumped into the console.</p><ul><li><p><code>printCell</code>: Logical. Print precipitation cell data to stderr. Default <code>FALSE</code></p></li>
<li><p><code>printCellProp</code>: Logical. Print precipitation cell properties to stderr. Default <code>FALSE</code></p></li>
<li><p><code>printClut</code>: Logical. Print clutter data to stderr. Default <code>FALSE</code></p></li>
<li><p><code>printDbz</code>: Logical. Print reflectivity factor data to stderr. Default <code>FALSE</code></p></li>
<li><p><code>printDealias</code>: Logical. <code>FALSE</code></p></li>
<li><p><code>printOptions</code>: Logical. Print options to stderr. Default <code>FALSE</code></p></li>
<li><p><code>printPointsArray</code>: Logical. Print the 'points' array to stderr. Default <code>FALSE</code></p></li>
<li><p><code>printProfileVar</code>: Logical. Print profile data to stderr. Default <code>FALSE</code></p></li>
<li><p><code>printRhohv</code>: Logical. Print correlation coefficient data to stderr. Default <code>FALSE</code></p></li>
<li><p><code>printTex</code>: Logical. Print radial velocity texture data to stderr. Default <code>FALSE</code></p></li>
<li><p><code>printVrad</code>: Logical. Print radial velocity data to stderr. Default <code>FALSE</code></p></li>
</ul></div>

    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index">
<ul><li><p><code><a href="vol2bird.html">vol2bird()</a></code></p></li>
</ul></div>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co"># create a configuration instance</span></span></span>
<span class="r-in"><span><span class="va">config</span> <span class="op">&lt;-</span> <span class="fu">vol2bird_config</span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="co"># list the the configuration elements:</span></span></span>
<span class="r-in"><span><span class="va">config</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 'vol2bird' configuration:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ azimMax                        : num 360</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ azimMin                        : num 0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ birdRadarCrossSection          : num 11</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ cellEtaMin                     : num 11500</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ cellStdDevMax                  : num 5</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ clutterMap                     : chr ""</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ clutterValueMin                : num 0.1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ dbzThresMin                    : num 0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ dbzType                        : chr "DBZH"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ dealiasRecycle                 : logi TRUE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ dealiasVrad                    : logi TRUE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ dualPol                        : logi TRUE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ elevMax                        : num 90</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ elevMin                        : num 0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ etaMax                         : num 36000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ exportBirdProfileAsJSONVar     : logi FALSE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ fitVrad                        : logi TRUE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ layerThickness                 : num 200</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ maxNyquistDealias              : num 25</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ minNyquist                     : num 5</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ mistNetElevs                   : num [1:5] 0.5 1.5 2.5 3.5 4.5</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ mistNetElevsOnly               : logi TRUE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ mistNetPath                    : chr "/private/var/folders/lh/hgqkg16d6c57p3jb6qcc9qv8f21yy9/T/RtmpLZy4DR/temp_libpath168e555d4f04c/vol2birdR/data/mistnet_nexrad.pt"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ nLayers                        : int 25</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ radarWavelength                : num 5.3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ rangeMax                       : num 35000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ rangeMin                       : num 5000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ requireVrad                    : logi FALSE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ resample                       : logi FALSE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ resampleNbins                  : int 100</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ resampleNrays                  : int 360</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ resampleRscale                 : num 500</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ rhohvThresMin                  : num 0.95</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ singlePol                      : logi TRUE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ stdDevMinBird                  : num 2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ useClutterMap                  : logi FALSE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ useMistNet                     : logi FALSE</span>
<span class="r-in"><span><span class="co"># change the maximum range included in the profile generation to 40 km:</span></span></span>
<span class="r-in"><span><span class="va">config</span><span class="op">$</span><span class="va">rangeMax</span> <span class="op">&lt;-</span> <span class="fl">40000</span></span></span>
<span class="r-in"><span><span class="co"># make a copy of the configuration instance:</span></span></span>
<span class="r-in"><span><span class="va">config_copy</span> <span class="op">&lt;-</span> <span class="fu">vol2bird_config</span><span class="op">(</span><span class="va">config</span><span class="op">)</span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by <a href="https://www.linkedin.com/in/anders-henja-03a1b05" class="external-link">Anders Henja</a>, <a href="http://adriaandokter.com" class="external-link">Adriaan M. Dokter</a>, GloBAM.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.0.</p>
</div>

    </footer></div>





  </body></html>

